{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/links.service\";\nimport * as i2 from \"@angular/cdk/clipboard\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction HomeComponent_p_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\n\nfunction HomeComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h2\");\n    i0.ɵɵtext(2, \"You're Link have been processed:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h1\", 8);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_8_Template_h1_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.copyToClipboard());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.resultUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.resultShort);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.clipboardText);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(linksService, clipboard) {\n      this.linksService = linksService;\n      this.clipboard = clipboard;\n      this.url = '';\n      this.showResult = false;\n      this.resultUrl = '';\n      this.resultShort = '';\n      this.clipboardText = '(Click to copy to clipboard)';\n      this.showErrorMessage = false;\n      this.errorMessage = '';\n    }\n\n    ngOnInit() {}\n\n    onSubmit() {\n      this.showErrorMessage = false;\n      this.errorMessage = '';\n      var urlControl = new FormControl(this.url, [Validators.required //Validators.pattern('~(?:\\b[a-z\\d.-]+://[^<>\\s]+|\\b(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\|;:\\'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:[;/][^#?<>\\s]*)?(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w))~iS')\n      ]);\n\n      if (!urlControl.valid) {\n        this.errorMessage = \"Please enter a valid url to shorten!\";\n        this.showErrorMessage = true;\n        return;\n      }\n\n      const newLink = {\n        url: this.url\n      };\n      this.linksService.createLink(newLink).subscribe(link => {\n        this.showResult = true;\n        this.resultUrl = link.url;\n        this.resultShort = link.shortUrl;\n      }, error => {\n        this.errorMessage = `Error: ${error.statusText}`;\n        this.showErrorMessage = true;\n      });\n      this.url = '';\n      this.showErrorMessage = false;\n      this.errorMessage = '';\n    }\n\n    copyToClipboard() {\n      if (this.resultShort) {\n        this.clipboard.copy(this.resultShort);\n        this.clipboardText = 'Copied to clipboard!';\n      }\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.LinksService), i0.ɵɵdirectiveInject(i2.Clipboard));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 9,\n    vars: 3,\n    consts: [[\"class\", \"error-message\", 4, \"ngIf\"], [1, \"shorten-form\", 3, \"ngSubmit\"], [1, \"shorten-form-control-inline\"], [\"type\", \"text\", \"name\", \"url\", \"id\", \"url\", \"placeholder\", \"https://website.com/\", 1, \"shorten-form-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [\"class\", \"shorten-result\", 4, \"ngIf\"], [1, \"error-message\"], [1, \"shorten-result\"], [3, \"click\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, HomeComponent_p_0_Template, 2, 1, \"p\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function HomeComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(2, \"h4\");\n        i0.ɵɵtext(3, \"Enter a url to shorten:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.url = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵtext(7, \"Shorten!\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(8, HomeComponent_div_8_Template, 9, 3, \"div\", 5);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showErrorMessage);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.url);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showResult);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\".shorten-form[_ngcontent-%COMP%]{font-size:20px;background-color:#a4c3b2;margin:0 auto;min-width:300px;max-width:900px;width:80%;padding:70px 30px}.shorten-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:5px}.shorten-form-control-inline[_ngcontent-%COMP%]{display:flex}.shorten-form-control-inline[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;height:40px;width:100%;padding-left:10px;border:none}.shorten-form-control-inline[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.shorten-form-control-inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background:#88AE99;border:none;font-size:large;padding:10px;margin-left:20px;width:100px}.shorten-form-control-inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#6b9080}.shorten-result[_ngcontent-%COMP%]{background-color:#a4c3b2;margin:60px auto 0;min-width:300px;max-width:900px;width:80%;padding:70px 30px}.shorten-result[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;text-overflow:wrap}.shorten-result[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:20px;cursor:pointer}.error-message[_ngcontent-%COMP%]{color:red;text-align:center;font-size:small;margin-bottom:5px}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}